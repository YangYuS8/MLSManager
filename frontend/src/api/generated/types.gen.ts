// This file is auto-generated by @hey-api/openapi-ts

export type Body_login_api_v1_auth_login_post = {
  grant_type?: string | null
  username: string
  password: string
  scope?: string
  client_id?: string | null
  client_secret?: string | null
}

/**
 * Batch registration request from agent.
 */
export type DatasetBatchRegister = {
  /**
   * List of scanned datasets to register
   */
  datasets: Array<DatasetScanItem>
}

/**
 * Result of batch registration.
 */
export type DatasetBatchResult = {
  /**
   * Number of newly registered datasets
   */
  registered: number
  /**
   * Number of updated datasets
   */
  updated: number
  /**
   * Number of failed registrations
   */
  failed: number
  /**
   * Error messages
   */
  errors?: Array<string>
}

/**
 * Schema for creating a new dataset entry.
 */
export type DatasetCreate = {
  /**
   * Dataset name
   */
  name: string
  /**
   * Dataset description
   */
  description?: string | null
  /**
   * Dataset version
   */
  version?: string
  /**
   * ID of the node where dataset is stored
   */
  node_id: number
  /**
   * Path to dataset on the node
   */
  local_path: string
  /**
   * Dataset format (csv, parquet, images, etc.)
   */
  format?: string | null
  /**
   * Tags for categorization
   */
  tags?: Array<string> | null
}

/**
 * Schema for reading dataset data.
 */
export type DatasetRead = {
  /**
   * Dataset name
   */
  name: string
  /**
   * Dataset description
   */
  description?: string | null
  /**
   * Dataset version
   */
  version?: string
  /**
   * Unique dataset ID
   */
  id: number
  /**
   * Node where dataset is stored
   */
  node_id: number
  /**
   * Path on node
   */
  local_path: string
  /**
   * Size in bytes
   */
  size_bytes?: number | null
  /**
   * Number of files
   */
  file_count?: number | null
  /**
   * Dataset format
   */
  format?: string | null
  /**
   * Tags (JSON string)
   */
  tags?: string | null
  /**
   * Current status
   */
  status: DatasetStatus
  /**
   * Creation timestamp
   */
  created_at: string
  /**
   * Last update timestamp
   */
  updated_at: string
}

/**
 * Single dataset item from agent scan.
 */
export type DatasetScanItem = {
  /**
   * Dataset name (usually directory name)
   */
  name: string
  /**
   * Absolute path on node
   */
  local_path: string
  /**
   * Total size in bytes
   */
  size_bytes?: number | null
  /**
   * Number of files
   */
  file_count?: number | null
  /**
   * Detected format
   */
  format?: string | null
  /**
   * Auto-generated description
   */
  description?: string | null
}

/**
 * Dataset status enumeration.
 */
export type DatasetStatus = 'pending' | 'available' | 'syncing' | 'error'

/**
 * Schema for updating dataset info.
 */
export type DatasetUpdate = {
  /**
   * New dataset name
   */
  name?: string | null
  /**
   * New description
   */
  description?: string | null
  /**
   * New version
   */
  version?: string | null
  /**
   * Dataset status
   */
  status?: DatasetStatus | null
  /**
   * Dataset size in bytes
   */
  size_bytes?: number | null
  /**
   * Number of files
   */
  file_count?: number | null
  /**
   * Dataset format
   */
  format?: string | null
  /**
   * New tags
   */
  tags?: Array<string> | null
}

export type HTTPValidationError = {
  detail?: Array<ValidationError>
}

/**
 * Schema for creating a new job.
 */
export type JobCreate = {
  /**
   * Job name for identification
   */
  name: string
  /**
   * Job description
   */
  description?: string | null
  /**
   * Execution environment type
   */
  job_type?: JobType
  /**
   * Docker image (for docker jobs)
   */
  image?: string | null
  /**
   * Command to execute
   */
  command: string
  /**
   * Working directory for the command
   */
  working_dir?: string | null
  /**
   * Environment variables
   */
  environment?: {
    [key: string]: string
  } | null
  /**
   * Target node ID (auto-assigned if not specified)
   */
  node_id?: number | null
  /**
   * CPU core limit
   */
  cpu_limit?: number | null
  /**
   * Memory limit in GB
   */
  memory_limit_gb?: number | null
  /**
   * Number of GPUs required
   */
  gpu_count?: number | null
}

/**
 * Schema for reading job logs.
 */
export type JobLogRead = {
  /**
   * Job ID
   */
  job_id: number
  /**
   * Log content
   */
  content: string
  /**
   * Log size in bytes
   */
  size_bytes: number
  /**
   * Last update time
   */
  last_updated?: string | null
}

/**
 * Schema for uploading job logs from worker agent.
 */
export type JobLogUpload = {
  /**
   * Log content (text)
   */
  content: string
  /**
   * Append to existing log (True) or overwrite (False)
   */
  append?: boolean
}

/**
 * Schema for reading job data.
 */
export type JobRead = {
  /**
   * Job name for identification
   */
  name: string
  /**
   * Job description
   */
  description?: string | null
  /**
   * Unique job ID
   */
  id: number
  /**
   * ID of user who created the job
   */
  owner_id: number
  /**
   * Assigned node ID
   */
  node_id?: number | null
  /**
   * Execution environment type
   */
  job_type: JobType
  /**
   * Docker image
   */
  image?: string | null
  /**
   * Execution command
   */
  command: string
  /**
   * Working directory
   */
  working_dir?: string | null
  /**
   * Environment variables (JSON)
   */
  environment?: string | null
  /**
   * CPU limit
   */
  cpu_limit?: number | null
  /**
   * Memory limit (GB)
   */
  memory_limit_gb?: number | null
  /**
   * GPU count
   */
  gpu_count?: number | null
  /**
   * Current job status
   */
  status: JobStatus
  /**
   * Process exit code
   */
  exit_code?: number | null
  /**
   * Error message if failed
   */
  error_message?: string | null
  /**
   * Path to job outputs
   */
  output_path?: string | null
  /**
   * Path to job logs
   */
  log_path?: string | null
  /**
   * Job creation timestamp
   */
  created_at: string
  /**
   * Job start timestamp
   */
  started_at?: string | null
  /**
   * Job completion timestamp
   */
  completed_at?: string | null
  /**
   * Last update timestamp
   */
  updated_at: string
}

/**
 * Aggregated job statistics.
 */
export type JobStats = {
  /**
   * Total number of jobs
   */
  total_jobs: number
  /**
   * Jobs waiting for assignment
   */
  pending_jobs: number
  /**
   * Jobs assigned but not started
   */
  queued_jobs: number
  /**
   * Currently running jobs
   */
  running_jobs: number
  /**
   * Successfully completed jobs
   */
  completed_jobs: number
  /**
   * Failed jobs
   */
  failed_jobs: number
  /**
   * Cancelled jobs
   */
  cancelled_jobs: number
}

/**
 * Job status enumeration.
 */
export type JobStatus = 'pending' | 'queued' | 'running' | 'completed' | 'failed' | 'cancelled'

/**
 * Schema for worker agent to update job status.
 */
export type JobStatusUpdate = {
  /**
   * New job status
   */
  status: JobStatus
  /**
   * Process exit code (for completed/failed)
   */
  exit_code?: number | null
  /**
   * Error message if failed
   */
  error_message?: string | null
  /**
   * Path to job logs on node
   */
  log_path?: string | null
  /**
   * Path to job outputs on node
   */
  output_path?: string | null
}

/**
 * Job execution environment type.
 */
export type JobType = 'docker' | 'conda' | 'venv'

/**
 * Schema for updating job info.
 */
export type JobUpdate = {
  /**
   * New job name
   */
  name?: string | null
  /**
   * New description
   */
  description?: string | null
  /**
   * New job status
   */
  status?: JobStatus | null
  /**
   * Assign to different node
   */
  node_id?: number | null
}

/**
 * Schema for registering a new node.
 */
export type NodeCreate = {
  /**
   * Human-readable node name
   */
  name: string
  /**
   * Node hostname or IP address
   */
  host: string
  /**
   * Node API port
   */
  port?: number
  /**
   * Unique node identifier
   */
  node_id: string
  /**
   * Type of node (master/worker)
   */
  node_type?: NodeType
  /**
   * Base path for data storage on this node
   */
  storage_path?: string | null
}

/**
 * Schema for node heartbeat updates.
 */
export type NodeHeartbeat = {
  /**
   * Current node status
   */
  status?: NodeStatus
  /**
   * Number of CPU cores
   */
  cpu_count?: number | null
  /**
   * Total memory in GB
   */
  memory_total_gb?: number | null
  /**
   * Number of GPUs
   */
  gpu_count?: number | null
  /**
   * GPU information (JSON string)
   */
  gpu_info?: string | null
  /**
   * Total storage in GB
   */
  storage_total_gb?: number | null
  /**
   * Used storage in GB
   */
  storage_used_gb?: number | null
}

/**
 * Schema for reading node data.
 */
export type NodeRead = {
  /**
   * Human-readable node name
   */
  name: string
  /**
   * Node hostname or IP address
   */
  host: string
  /**
   * Node API port
   */
  port?: number
  /**
   * Internal node ID
   */
  id: number
  /**
   * Unique node identifier
   */
  node_id: string
  /**
   * Node type
   */
  node_type: NodeType
  /**
   * Current status
   */
  status: NodeStatus
  /**
   * Whether node is active
   */
  is_active: boolean
  /**
   * CPU core count
   */
  cpu_count?: number | null
  /**
   * Total memory (GB)
   */
  memory_total_gb?: number | null
  /**
   * GPU count
   */
  gpu_count?: number | null
  /**
   * GPU information
   */
  gpu_info?: string | null
  /**
   * Storage base path
   */
  storage_path?: string | null
  /**
   * Total storage (GB)
   */
  storage_total_gb?: number | null
  /**
   * Used storage (GB)
   */
  storage_used_gb?: number | null
  /**
   * Last heartbeat timestamp
   */
  last_heartbeat?: string | null
  /**
   * Registration timestamp
   */
  created_at: string
  /**
   * Last update timestamp
   */
  updated_at: string
}

/**
 * Schema for worker node self-registration.
 */
export type NodeRegister = {
  /**
   * Unique node identifier
   */
  node_id: string
  /**
   * Human-readable node name
   */
  name: string
  /**
   * Node hostname or IP (as seen by master)
   */
  host: string
  /**
   * Node API port
   */
  port?: number
  /**
   * Base path for data storage
   */
  storage_path?: string | null
  /**
   * Number of CPU cores
   */
  cpu_count?: number | null
  /**
   * Total memory in GB
   */
  memory_total_gb?: number | null
  /**
   * Number of GPUs
   */
  gpu_count?: number | null
  /**
   * GPU information
   */
  gpu_info?: string | null
  /**
   * Total storage in GB
   */
  storage_total_gb?: number | null
  /**
   * Used storage in GB
   */
  storage_used_gb?: number | null
}

/**
 * Response for node registration.
 */
export type NodeRegisterResponse = {
  /**
   * Registered node information
   */
  node: NodeRead
  /**
   * Agent authentication token
   */
  token: string
  message?: string
}

/**
 * Aggregated node statistics.
 */
export type NodeStats = {
  /**
   * Total number of nodes
   */
  total_nodes: number
  /**
   * Number of online nodes
   */
  online_nodes: number
  /**
   * Number of offline nodes
   */
  offline_nodes: number
  /**
   * Total CPU cores across all nodes
   */
  total_cpu: number
  /**
   * Total memory in GB
   */
  total_memory_gb: number
  /**
   * Total GPUs
   */
  total_gpu: number
  /**
   * Total storage in GB
   */
  total_storage_gb: number
  /**
   * Used storage in GB
   */
  used_storage_gb: number
}

/**
 * Node status enumeration.
 */
export type NodeStatus = 'online' | 'offline' | 'maintenance'

/**
 * Node type enumeration.
 */
export type NodeType = 'master' | 'worker'

/**
 * Schema for updating node info.
 */
export type NodeUpdate = {
  /**
   * New node name
   */
  name?: string | null
  /**
   * New hostname/IP
   */
  host?: string | null
  /**
   * New port number
   */
  port?: number | null
  /**
   * Node status
   */
  status?: NodeStatus | null
  /**
   * Whether node is active
   */
  is_active?: boolean | null
  /**
   * Storage path
   */
  storage_path?: string | null
}

/**
 * JWT token response.
 */
export type Token = {
  /**
   * JWT access token for authentication
   */
  access_token: string
  /**
   * Token type (always 'bearer')
   */
  token_type?: string
}

/**
 * Schema for creating a new user.
 */
export type UserCreate = {
  /**
   * Unique username for login
   */
  username: string
  /**
   * User's email address
   */
  email: string
  /**
   * User's display name
   */
  full_name?: string | null
  /**
   * Password (8-100 characters)
   */
  password: string
  /**
   * User role (superadmin/admin/member)
   */
  role?: UserRole
}

/**
 * Schema for reading user data.
 */
export type UserRead = {
  /**
   * Unique username for login
   */
  username: string
  /**
   * User's email address
   */
  email: string
  /**
   * User's display name
   */
  full_name?: string | null
  /**
   * Unique user ID
   */
  id: number
  /**
   * User role
   */
  role: UserRole
  /**
   * Whether account is active
   */
  is_active: boolean
  /**
   * Account creation timestamp
   */
  created_at: string
  /**
   * Last update timestamp
   */
  updated_at: string
}

/**
 * User role enumeration.
 */
export type UserRole = 'superadmin' | 'admin' | 'member'

/**
 * Schema for updating a user.
 */
export type UserUpdate = {
  /**
   * New email address
   */
  email?: string | null
  /**
   * New display name
   */
  full_name?: string | null
  /**
   * New user role
   */
  role?: UserRole | null
  /**
   * Account active status
   */
  is_active?: boolean | null
}

export type ValidationError = {
  loc: Array<string | number>
  msg: string
  type: string
}

export type LoginApiV1AuthLoginPostData = {
  body: Body_login_api_v1_auth_login_post
}

export type LoginApiV1AuthLoginPostResponse = Token

export type LoginApiV1AuthLoginPostError = unknown | HTTPValidationError

export type RegisterApiV1AuthRegisterPostData = {
  body: UserCreate
}

export type RegisterApiV1AuthRegisterPostResponse = UserRead

export type RegisterApiV1AuthRegisterPostError = unknown | HTTPValidationError

export type GetCurrentUserInfoApiV1UsersMeGetResponse = UserRead

export type GetCurrentUserInfoApiV1UsersMeGetError = unknown

export type ListUsersApiV1UsersGetData = {
  query?: {
    limit?: number
    skip?: number
  }
}

export type ListUsersApiV1UsersGetResponse = Array<UserRead>

export type ListUsersApiV1UsersGetError = unknown | HTTPValidationError

export type GetUserApiV1UsersUserIdGetData = {
  path: {
    user_id: number
  }
}

export type GetUserApiV1UsersUserIdGetResponse = UserRead

export type GetUserApiV1UsersUserIdGetError = unknown | HTTPValidationError

export type UpdateUserApiV1UsersUserIdPatchData = {
  body: UserUpdate
  path: {
    user_id: number
  }
}

export type UpdateUserApiV1UsersUserIdPatchResponse = UserRead

export type UpdateUserApiV1UsersUserIdPatchError = unknown | HTTPValidationError

export type RegisterWorkerNodeApiV1NodesRegisterPostData = {
  body: NodeRegister
}

export type RegisterWorkerNodeApiV1NodesRegisterPostResponse = NodeRegisterResponse

export type RegisterWorkerNodeApiV1NodesRegisterPostError = HTTPValidationError

export type GetNodeStatsApiV1NodesStatsGetResponse = NodeStats

export type GetNodeStatsApiV1NodesStatsGetError = unknown

export type ListNodesApiV1NodesGetData = {
  query?: {
    limit?: number
    skip?: number
  }
}

export type ListNodesApiV1NodesGetResponse = Array<NodeRead>

export type ListNodesApiV1NodesGetError = HTTPValidationError

export type RegisterNodeApiV1NodesPostData = {
  body: NodeCreate
}

export type RegisterNodeApiV1NodesPostResponse = NodeRead

export type RegisterNodeApiV1NodesPostError = unknown | HTTPValidationError

export type GetNodeApiV1NodesNodeIdGetData = {
  path: {
    node_id: string
  }
}

export type GetNodeApiV1NodesNodeIdGetResponse = NodeRead

export type GetNodeApiV1NodesNodeIdGetError = unknown | HTTPValidationError

export type UpdateNodeApiV1NodesNodeIdPatchData = {
  body: NodeUpdate
  path: {
    node_id: string
  }
}

export type UpdateNodeApiV1NodesNodeIdPatchResponse = NodeRead

export type UpdateNodeApiV1NodesNodeIdPatchError = unknown | HTTPValidationError

export type DeleteNodeApiV1NodesNodeIdDeleteData = {
  path: {
    node_id: string
  }
}

export type DeleteNodeApiV1NodesNodeIdDeleteResponse = void

export type DeleteNodeApiV1NodesNodeIdDeleteError = unknown | HTTPValidationError

export type NodeHeartbeatApiV1NodesNodeIdHeartbeatPostData = {
  body: NodeHeartbeat
  path: {
    node_id: string
  }
}

export type NodeHeartbeatApiV1NodesNodeIdHeartbeatPostResponse = NodeRead

export type NodeHeartbeatApiV1NodesNodeIdHeartbeatPostError = unknown | HTTPValidationError

export type ListDatasetsApiV1DatasetsGetData = {
  query?: {
    /**
     * Maximum records to return
     */
    limit?: number
    /**
     * Filter by node ID
     */
    node_id?: number | null
    /**
     * Number of records to skip
     */
    skip?: number
  }
}

export type ListDatasetsApiV1DatasetsGetResponse = Array<DatasetRead>

export type ListDatasetsApiV1DatasetsGetError = HTTPValidationError

export type CreateDatasetApiV1DatasetsPostData = {
  body: DatasetCreate
}

export type CreateDatasetApiV1DatasetsPostResponse = DatasetRead

export type CreateDatasetApiV1DatasetsPostError = unknown | HTTPValidationError

export type GetDatasetApiV1DatasetsDatasetIdGetData = {
  path: {
    dataset_id: number
  }
}

export type GetDatasetApiV1DatasetsDatasetIdGetResponse = DatasetRead

export type GetDatasetApiV1DatasetsDatasetIdGetError = unknown | HTTPValidationError

export type UpdateDatasetApiV1DatasetsDatasetIdPatchData = {
  body: DatasetUpdate
  path: {
    dataset_id: number
  }
}

export type UpdateDatasetApiV1DatasetsDatasetIdPatchResponse = DatasetRead

export type UpdateDatasetApiV1DatasetsDatasetIdPatchError = unknown | HTTPValidationError

export type DeleteDatasetApiV1DatasetsDatasetIdDeleteData = {
  path: {
    dataset_id: number
  }
}

export type DeleteDatasetApiV1DatasetsDatasetIdDeleteResponse = void

export type DeleteDatasetApiV1DatasetsDatasetIdDeleteError = unknown | HTTPValidationError

export type BatchRegisterDatasetsApiV1DatasetsBatchPostData = {
  body: DatasetBatchRegister
  headers?: {
    'X-Agent-Token'?: string | null
  }
}

export type BatchRegisterDatasetsApiV1DatasetsBatchPostResponse = DatasetBatchResult

export type BatchRegisterDatasetsApiV1DatasetsBatchPostError = unknown | HTTPValidationError

export type ListNodeDatasetsApiV1DatasetsNodeNodeIdGetData = {
  path: {
    node_id: number
  }
  query?: {
    limit?: number
    skip?: number
  }
}

export type ListNodeDatasetsApiV1DatasetsNodeNodeIdGetResponse = Array<DatasetRead>

export type ListNodeDatasetsApiV1DatasetsNodeNodeIdGetError = HTTPValidationError

export type SearchDatasetsApiV1DatasetsSearchGetData = {
  query: {
    /**
     * Filter by format
     */
    format?: string | null
    limit?: number
    /**
     * Search query
     */
    q: string
    skip?: number
  }
}

export type SearchDatasetsApiV1DatasetsSearchGetResponse = Array<DatasetRead>

export type SearchDatasetsApiV1DatasetsSearchGetError = HTTPValidationError

export type GetJobStatsApiV1JobsStatsGetResponse = JobStats

export type GetJobStatsApiV1JobsStatsGetError = unknown

export type GetJobQueueApiV1JobsQueueNodeIdGetData = {
  path: {
    node_id: string
  }
  query?: {
    /**
     * Maximum jobs to return
     */
    limit?: number
  }
}

export type GetJobQueueApiV1JobsQueueNodeIdGetResponse = Array<JobRead>

export type GetJobQueueApiV1JobsQueueNodeIdGetError = HTTPValidationError

export type UpdateJobStatusApiV1JobsJobIdStatusPostData = {
  body: JobStatusUpdate
  path: {
    job_id: number
  }
}

export type UpdateJobStatusApiV1JobsJobIdStatusPostResponse = JobRead

export type UpdateJobStatusApiV1JobsJobIdStatusPostError = HTTPValidationError

export type AutoAssignJobsApiV1JobsAutoAssignPostResponse = {
  [key: string]: unknown
}

export type AutoAssignJobsApiV1JobsAutoAssignPostError = unknown

export type ListJobsApiV1JobsGetData = {
  query?: {
    /**
     * Maximum records to return
     */
    limit?: number
    /**
     * Filter by node ID
     */
    node_id?: number | null
    /**
     * Number of records to skip
     */
    skip?: number
    /**
     * Filter by job status
     */
    status_filter?: JobStatus | null
  }
}

export type ListJobsApiV1JobsGetResponse = Array<JobRead>

export type ListJobsApiV1JobsGetError = HTTPValidationError

export type CreateJobApiV1JobsPostData = {
  body: JobCreate
}

export type CreateJobApiV1JobsPostResponse = JobRead

export type CreateJobApiV1JobsPostError = unknown | HTTPValidationError

export type GetJobApiV1JobsJobIdGetData = {
  path: {
    job_id: number
  }
}

export type GetJobApiV1JobsJobIdGetResponse = JobRead

export type GetJobApiV1JobsJobIdGetError = unknown | HTTPValidationError

export type UpdateJobApiV1JobsJobIdPatchData = {
  body: JobUpdate
  path: {
    job_id: number
  }
}

export type UpdateJobApiV1JobsJobIdPatchResponse = JobRead

export type UpdateJobApiV1JobsJobIdPatchError = unknown | HTTPValidationError

export type DeleteJobApiV1JobsJobIdDeleteData = {
  path: {
    job_id: number
  }
}

export type DeleteJobApiV1JobsJobIdDeleteResponse = void

export type DeleteJobApiV1JobsJobIdDeleteError = unknown | HTTPValidationError

export type CancelJobApiV1JobsJobIdCancelPostData = {
  path: {
    job_id: number
  }
}

export type CancelJobApiV1JobsJobIdCancelPostResponse = JobRead

export type CancelJobApiV1JobsJobIdCancelPostError = unknown | HTTPValidationError

export type UploadJobLogsApiV1JobsJobIdLogsPostData = {
  body: JobLogUpload
  headers?: {
    'X-Agent-Token'?: string | null
  }
  path: {
    job_id: number
  }
}

export type UploadJobLogsApiV1JobsJobIdLogsPostResponse = {
  [key: string]: unknown
}

export type UploadJobLogsApiV1JobsJobIdLogsPostError = unknown | HTTPValidationError

export type GetJobLogsApiV1JobsJobIdLogsGetData = {
  path: {
    job_id: number
  }
  query?: {
    /**
     * Return only last N lines
     */
    tail?: number | null
  }
}

export type GetJobLogsApiV1JobsJobIdLogsGetResponse = string

export type GetJobLogsApiV1JobsJobIdLogsGetError = unknown | HTTPValidationError

export type GetJobLogsInfoApiV1JobsJobIdLogsInfoGetData = {
  path: {
    job_id: number
  }
}

export type GetJobLogsInfoApiV1JobsJobIdLogsInfoGetResponse = JobLogRead

export type GetJobLogsInfoApiV1JobsJobIdLogsInfoGetError = HTTPValidationError

export type HealthCheckHealthGetResponse = unknown

export type HealthCheckHealthGetError = unknown
